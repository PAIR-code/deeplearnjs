{"dependencies":[{"name":"/usr/local/google/home/nsthorat/deeplearnjs-clients/float16/tfjs-core/tsconfig.json","includedInParent":true,"mtime":1529003832385},{"name":"/usr/local/google/home/nsthorat/deeplearnjs-clients/float16/tfjs-core/test/package.json","includedInParent":true,"mtime":1530637734514},{"name":"../../ops/broadcast_util","loc":{"line":10,"column":42}}],"generated":{"js":"\"use strict\";\n\nvar __importStar = this && this.__importStar || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) {\n        if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    }result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar broadcast_util = __importStar(require(\"../../ops/broadcast_util\"));\nvar CHECK_NAN_SNIPPET = \"\\n  if (isNaN(a)) return a;\\n  if (isNaN(b)) return b;\\n\";\nexports.ADD = 'return a + b;';\nexports.SUB = 'return a - b;';\nexports.MUL = 'return a * b;';\nexports.DIV = \"if (a == b) return 1.0;\\n  return a / b;\";\nexports.INT_DIV = \"\\n  float resultSign = sign(a) * sign(b);\\n  int ia = round(a);\\n  int ib = round(b);\\n  int result = ia / ib;\\n  int amodb = ia - ib * result;\\n\\n  if (resultSign < 0.0 && amodb != 0) {\\n    result -= 1;\\n  }\\n  return float(result);\\n\";\nexports.POW = \"\\n  return (round(mod(b, 2.0)) == 0 || round(mod(b, 2.0)) == 2) ?\\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\\n\";\nexports.SQUARED_DIFFERENCE = 'return (a - b) * (a - b);';\nexports.EQUAL = \"return float(a == b);\";\nexports.NOT_EQUAL = \"return float(a != b);\";\nexports.LESS = \"return float(a < b);\";\nexports.LESS_EQUAL = \"return float(a <= b);\";\nexports.GREATER = \"return float(a > b);\";\nexports.GREATER_EQUAL = \"return float(a >= b);\";\nexports.LOGICAL_AND = \"return float(a >= 1.0 && b >= 1.0);\";\nexports.LOGICAL_OR = \"return float(a >= 1.0 || b >= 1.0);\";\nexports.MAX = CHECK_NAN_SNIPPET + \"\\n  return max(a, b);\\n\";\nexports.MIN = CHECK_NAN_SNIPPET + \"\\n  return min(a, b);\\n\";\nexports.MOD = \"if (b == 0.0) return NAN;\\n  return mod(a, b);\";\nexports.ATAN2 = CHECK_NAN_SNIPPET + \"\\n  return atan(a, b);\\n\";\nexports.ELU_DER = \"return (b >= 1.0) ? a : a * (b + 1.0);\";\nvar BinaryOpProgram = function () {\n    function BinaryOpProgram(op, aShape, bShape) {\n        this.variableNames = ['A', 'B'];\n        this.supportsBroadcasting = true;\n        this.outputShape = broadcast_util.assertAndGetBroadcastShape(aShape, bShape);\n        this.userCode = \"\\n      uniform float NAN;\\n      float binaryOperation(float a, float b) {\\n        \" + op + \"\\n      }\\n\\n      void main() {\\n        float a = getAAtOutCoords();\\n        float b = getBAtOutCoords();\\n        setOutput(binaryOperation(a, b));\\n      }\\n    \";\n    }\n    BinaryOpProgram.prototype.getCustomSetupFunc = function () {\n        var _this = this;\n        return function (gpgpu, webGLProgram) {\n            if (_this.startLoc == null) {\n                _this.startLoc = gpgpu.getUniformLocationNoThrow(webGLProgram, 'NAN');\n                if (_this.startLoc == null) {\n                    return;\n                }\n            }\n            gpgpu.gl.uniform1f(_this.startLoc, NaN);\n        };\n    };\n    return BinaryOpProgram;\n}();\nexports.BinaryOpProgram = BinaryOpProgram;","map":{"mappings":[{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":12,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":12,"column":4}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":12,"column":21}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":12,"column":34}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":12,"column":42}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":12,"column":68}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":12,"column":69}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":12,"column":70}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":13,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":22,"column":6},"generated":{"line":13,"column":4}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":22,"column":26},"generated":{"line":13,"column":24}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":13,"column":82}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":27,"column":13},"generated":{"line":14,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":27,"column":13},"generated":{"line":14,"column":8}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":27,"column":13},"generated":{"line":14,"column":11}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":27,"column":19},"generated":{"line":14,"column":14}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":27,"column":13},"generated":{"line":14,"column":29}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":15,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":15,"column":8}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":15,"column":11}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":28,"column":19},"generated":{"line":15,"column":14}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":15,"column":29}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":29,"column":13},"generated":{"line":16,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":29,"column":13},"generated":{"line":16,"column":8}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":29,"column":13},"generated":{"line":16,"column":11}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":29,"column":19},"generated":{"line":16,"column":14}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":29,"column":13},"generated":{"line":16,"column":29}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":30,"column":13},"generated":{"line":17,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":30,"column":13},"generated":{"line":17,"column":8}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":30,"column":13},"generated":{"line":17,"column":11}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":30,"column":19},"generated":{"line":17,"column":14}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":30,"column":13},"generated":{"line":17,"column":56}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":37,"column":13},"generated":{"line":18,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":37,"column":13},"generated":{"line":18,"column":8}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":37,"column":13},"generated":{"line":18,"column":15}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":37,"column":23},"generated":{"line":18,"column":18}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":37,"column":13},"generated":{"line":18,"column":256}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":50,"column":13},"generated":{"line":19,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":50,"column":13},"generated":{"line":19,"column":8}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":50,"column":13},"generated":{"line":19,"column":11}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":50,"column":19},"generated":{"line":19,"column":14}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":50,"column":13},"generated":{"line":19,"column":133}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":54,"column":13},"generated":{"line":20,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":54,"column":13},"generated":{"line":20,"column":8}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":54,"column":13},"generated":{"line":20,"column":26}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":54,"column":34},"generated":{"line":20,"column":29}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":54,"column":13},"generated":{"line":20,"column":56}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":56,"column":13},"generated":{"line":21,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":56,"column":13},"generated":{"line":21,"column":8}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":56,"column":13},"generated":{"line":21,"column":13}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":56,"column":21},"generated":{"line":21,"column":16}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":56,"column":13},"generated":{"line":21,"column":39}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":58,"column":13},"generated":{"line":22,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":58,"column":13},"generated":{"line":22,"column":8}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":58,"column":13},"generated":{"line":22,"column":17}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":58,"column":25},"generated":{"line":22,"column":20}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":58,"column":13},"generated":{"line":22,"column":43}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":60,"column":13},"generated":{"line":23,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":60,"column":13},"generated":{"line":23,"column":8}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":60,"column":13},"generated":{"line":23,"column":12}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":60,"column":20},"generated":{"line":23,"column":15}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":60,"column":13},"generated":{"line":23,"column":37}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":62,"column":13},"generated":{"line":24,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":62,"column":13},"generated":{"line":24,"column":8}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":62,"column":13},"generated":{"line":24,"column":18}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":62,"column":26},"generated":{"line":24,"column":21}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":62,"column":13},"generated":{"line":24,"column":44}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":64,"column":13},"generated":{"line":25,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":64,"column":13},"generated":{"line":25,"column":8}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":64,"column":13},"generated":{"line":25,"column":15}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":64,"column":23},"generated":{"line":25,"column":18}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":64,"column":13},"generated":{"line":25,"column":40}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":66,"column":13},"generated":{"line":26,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":66,"column":13},"generated":{"line":26,"column":8}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":66,"column":13},"generated":{"line":26,"column":21}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":66,"column":29},"generated":{"line":26,"column":24}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":66,"column":13},"generated":{"line":26,"column":47}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":68,"column":13},"generated":{"line":27,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":68,"column":13},"generated":{"line":27,"column":8}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":68,"column":13},"generated":{"line":27,"column":19}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":68,"column":27},"generated":{"line":27,"column":22}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":68,"column":13},"generated":{"line":27,"column":59}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":70,"column":13},"generated":{"line":28,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":70,"column":13},"generated":{"line":28,"column":8}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":70,"column":13},"generated":{"line":28,"column":18}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":70,"column":26},"generated":{"line":28,"column":21}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":70,"column":13},"generated":{"line":28,"column":58}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":72,"column":13},"generated":{"line":29,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":72,"column":13},"generated":{"line":29,"column":8}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":72,"column":13},"generated":{"line":29,"column":11}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":72,"column":19},"generated":{"line":29,"column":14}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":72,"column":39},"generated":{"line":29,"column":34}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":72,"column":13},"generated":{"line":29,"column":59}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":75,"column":13},"generated":{"line":30,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":75,"column":13},"generated":{"line":30,"column":8}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":75,"column":13},"generated":{"line":30,"column":11}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":75,"column":19},"generated":{"line":30,"column":14}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":75,"column":39},"generated":{"line":30,"column":34}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":75,"column":13},"generated":{"line":30,"column":59}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":78,"column":13},"generated":{"line":31,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":78,"column":13},"generated":{"line":31,"column":8}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":78,"column":13},"generated":{"line":31,"column":11}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":78,"column":19},"generated":{"line":31,"column":14}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":78,"column":13},"generated":{"line":31,"column":62}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":81,"column":13},"generated":{"line":32,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":81,"column":13},"generated":{"line":32,"column":8}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":81,"column":13},"generated":{"line":32,"column":13}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":81,"column":21},"generated":{"line":32,"column":16}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":81,"column":41},"generated":{"line":32,"column":36}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":81,"column":13},"generated":{"line":32,"column":62}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":85,"column":13},"generated":{"line":33,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":85,"column":13},"generated":{"line":33,"column":8}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":85,"column":13},"generated":{"line":33,"column":15}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":85,"column":23},"generated":{"line":33,"column":18}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":85,"column":13},"generated":{"line":33,"column":58}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":87,"column":0},"generated":{"line":34,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":87,"column":0},"generated":{"line":34,"column":4}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":87,"column":0},"generated":{"line":34,"column":22}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":87,"column":0},"generated":{"line":34,"column":34}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":96,"column":2},"generated":{"line":35,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":96,"column":2},"generated":{"line":35,"column":13}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":96,"column":2},"generated":{"line":35,"column":28}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":96,"column":14},"generated":{"line":35,"column":29}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":96,"column":2},"generated":{"line":35,"column":31}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":96,"column":26},"generated":{"line":35,"column":33}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":96,"column":2},"generated":{"line":35,"column":39}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":96,"column":44},"generated":{"line":35,"column":41}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":96,"column":2},"generated":{"line":35,"column":47}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":96,"column":60},"generated":{"line":35,"column":49}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":88,"column":2},"generated":{"line":36,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":88,"column":2},"generated":{"line":36,"column":13}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":88,"column":2},"generated":{"line":36,"column":26}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":88,"column":18},"generated":{"line":36,"column":29}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":88,"column":19},"generated":{"line":36,"column":30}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":88,"column":18},"generated":{"line":36,"column":33}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":88,"column":24},"generated":{"line":36,"column":35}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":88,"column":18},"generated":{"line":36,"column":38}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":88,"column":2},"generated":{"line":36,"column":39}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":91,"column":2},"generated":{"line":37,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":91,"column":2},"generated":{"line":37,"column":13}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":91,"column":2},"generated":{"line":37,"column":33}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":91,"column":25},"generated":{"line":37,"column":36}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":91,"column":2},"generated":{"line":37,"column":40}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":97,"column":4},"generated":{"line":38,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":97,"column":9},"generated":{"line":38,"column":13}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":97,"column":4},"generated":{"line":38,"column":24}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":98,"column":8},"generated":{"line":38,"column":27}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":98,"column":23},"generated":{"line":38,"column":42}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":98,"column":8},"generated":{"line":38,"column":68}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":98,"column":50},"generated":{"line":38,"column":69}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":98,"column":8},"generated":{"line":38,"column":75}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":98,"column":58},"generated":{"line":38,"column":77}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":98,"column":8},"generated":{"line":38,"column":83}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":97,"column":4},"generated":{"line":38,"column":84}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":99,"column":4},"generated":{"line":39,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":99,"column":9},"generated":{"line":39,"column":13}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":99,"column":4},"generated":{"line":39,"column":21}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":99,"column":20},"generated":{"line":39,"column":24}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":102,"column":10},"generated":{"line":39,"column":114}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":99,"column":20},"generated":{"line":39,"column":116}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":102,"column":12},"generated":{"line":39,"column":119}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":99,"column":4},"generated":{"line":39,"column":287}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":111,"column":3},"generated":{"line":40,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":113,"column":2},"generated":{"line":41,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":113,"column":2},"generated":{"line":41,"column":20}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":113,"column":2},"generated":{"line":41,"column":29}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":113,"column":2},"generated":{"line":41,"column":30}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":113,"column":2},"generated":{"line":41,"column":48}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":113,"column":2},"generated":{"line":41,"column":51}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":113,"column":2},"generated":{"line":41,"column":63}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":113,"column":2},"generated":{"line":42,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":113,"column":2},"generated":{"line":42,"column":12}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":113,"column":2},"generated":{"line":42,"column":20}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":113,"column":2},"generated":{"line":42,"column":24}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":114,"column":4},"generated":{"line":43,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":114,"column":11},"generated":{"line":43,"column":15}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":114,"column":12},"generated":{"line":43,"column":25}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":114,"column":11},"generated":{"line":43,"column":30}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":114,"column":33},"generated":{"line":43,"column":32}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":114,"column":11},"generated":{"line":43,"column":44}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":114,"column":59},"generated":{"line":43,"column":46}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":115,"column":6},"generated":{"line":44,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":115,"column":10},"generated":{"line":44,"column":16}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":115,"column":15},"generated":{"line":44,"column":22}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":115,"column":10},"generated":{"line":44,"column":30}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":115,"column":27},"generated":{"line":44,"column":34}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":115,"column":6},"generated":{"line":44,"column":38}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":115,"column":33},"generated":{"line":44,"column":40}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":116,"column":8},"generated":{"line":45,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":116,"column":13},"generated":{"line":45,"column":22}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":116,"column":8},"generated":{"line":45,"column":30}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":116,"column":24},"generated":{"line":45,"column":33}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":116,"column":30},"generated":{"line":45,"column":39}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":116,"column":24},"generated":{"line":45,"column":64}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":116,"column":56},"generated":{"line":45,"column":65}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":116,"column":24},"generated":{"line":45,"column":77}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":116,"column":70},"generated":{"line":45,"column":79}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":116,"column":24},"generated":{"line":45,"column":84}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":116,"column":8},"generated":{"line":45,"column":85}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":117,"column":8},"generated":{"line":46,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":117,"column":12},"generated":{"line":46,"column":20}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":117,"column":17},"generated":{"line":46,"column":26}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":117,"column":12},"generated":{"line":46,"column":34}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":117,"column":29},"generated":{"line":46,"column":38}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":117,"column":8},"generated":{"line":46,"column":42}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":117,"column":35},"generated":{"line":46,"column":44}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":120,"column":10},"generated":{"line":47,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":121,"column":9},"generated":{"line":48,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":122,"column":7},"generated":{"line":49,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":123,"column":6},"generated":{"line":50,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":123,"column":12},"generated":{"line":50,"column":18}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":123,"column":6},"generated":{"line":50,"column":20}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":123,"column":15},"generated":{"line":50,"column":21}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":123,"column":6},"generated":{"line":50,"column":30}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":123,"column":25},"generated":{"line":50,"column":31}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":123,"column":30},"generated":{"line":50,"column":37}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":123,"column":6},"generated":{"line":50,"column":45}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":123,"column":40},"generated":{"line":50,"column":47}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":123,"column":6},"generated":{"line":50,"column":50}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":124,"column":5},"generated":{"line":51,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":114,"column":4},"generated":{"line":51,"column":9}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":125,"column":3},"generated":{"line":52,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":113,"column":2},"generated":{"line":52,"column":5}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":126,"column":0},"generated":{"line":53,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":126,"column":0},"generated":{"line":53,"column":11}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":126,"column":0},"generated":{"line":53,"column":26}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":87,"column":0},"generated":{"line":54,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":87,"column":0},"generated":{"line":54,"column":1}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":87,"column":0},"generated":{"line":54,"column":3}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":87,"column":13},"generated":{"line":55,"column":0}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":87,"column":13},"generated":{"line":55,"column":8}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":87,"column":13},"generated":{"line":55,"column":23}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":87,"column":13},"generated":{"line":55,"column":26}},{"source":"../src/kernels/webgl/binaryop_gpu.ts","name":null,"original":{"line":87,"column":13},"generated":{"line":55,"column":41}}],"sources":{"../src/kernels/webgl/binaryop_gpu.ts":"/**\n * @license\n * Copyright 2017 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport * as broadcast_util from '../../ops/broadcast_util';\nimport {GPGPUProgram} from './gpgpu_math';\nimport {GPGPUContext} from './gpgpu_context';\n\nconst CHECK_NAN_SNIPPET = `\n  if (isNaN(a)) return a;\n  if (isNaN(b)) return b;\n`;\n\nexport const ADD = 'return a + b;';\nexport const SUB = 'return a - b;';\nexport const MUL = 'return a * b;';\nexport const DIV = `if (a == b) return 1.0;\n  return a / b;`;\n\n// We use native integer division to deal with floating point imprecision. Since\n// we implement floor division and glsl implements truncated division, we\n// correct for this by subtracting 1 from result when the result is negative and\n// there is a remainder.\nexport const INT_DIV = `\n  float resultSign = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  int result = ia / ib;\n  int amodb = ia - ib * result;\n\n  if (resultSign < 0.0 && amodb != 0) {\n    result -= 1;\n  }\n  return float(result);\n`;\n\nexport const POW = `\n  return (round(mod(b, 2.0)) == 0 || round(mod(b, 2.0)) == 2) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n`;\nexport const SQUARED_DIFFERENCE = 'return (a - b) * (a - b);';\n\nexport const EQUAL = `return float(a == b);`;\n\nexport const NOT_EQUAL = `return float(a != b);`;\n\nexport const LESS = `return float(a < b);`;\n\nexport const LESS_EQUAL = `return float(a <= b);`;\n\nexport const GREATER = `return float(a > b);`;\n\nexport const GREATER_EQUAL = `return float(a >= b);`;\n\nexport const LOGICAL_AND = `return float(a >= 1.0 && b >= 1.0);`;\n\nexport const LOGICAL_OR = `return float(a >= 1.0 || b >= 1.0);`;\n\nexport const MAX = CHECK_NAN_SNIPPET + `\n  return max(a, b);\n`;\nexport const MIN = CHECK_NAN_SNIPPET + `\n  return min(a, b);\n`;\nexport const MOD = `if (b == 0.0) return NAN;\n  return mod(a, b);`;\n\nexport const ATAN2 = CHECK_NAN_SNIPPET + `\n  return atan(a, b);\n`;\n\nexport const ELU_DER = `return (b >= 1.0) ? a : a * (b + 1.0);`;\n\nexport class BinaryOpProgram implements GPGPUProgram {\n  variableNames = ['A', 'B'];\n  outputShape: number[];\n  userCode: string;\n  supportsBroadcasting = true;\n\n  // Caching uniform location for speed.\n  startLoc: WebGLUniformLocation;\n\n  constructor(op: string, aShape: number[], bShape: number[]) {\n    this.outputShape =\n        broadcast_util.assertAndGetBroadcastShape(aShape, bShape);\n    this.userCode = `\n      uniform float NAN;\n      float binaryOperation(float a, float b) {\n        ${op}\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    `;\n  }\n\n  getCustomSetupFunc() {\n    return (gpgpu: GPGPUContext, webGLProgram: WebGLProgram) => {\n      if (this.startLoc == null) {\n        this.startLoc = gpgpu.getUniformLocationNoThrow(webGLProgram, 'NAN');\n        if (this.startLoc == null) {\n          // This means the compiler has optimized and realized it doesn't need\n          // the uniform.\n          return;\n        }\n      }\n      gpgpu.gl.uniform1f(this.startLoc, NaN);\n    };\n  }\n}\n"},"lineCount":null}},"hash":"8ea3dd39ec6e12cb38fae5d3f6b23257","cacheData":{"env":{}}}