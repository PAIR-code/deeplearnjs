{"dependencies":[{"name":"/usr/local/google/home/nsthorat/deeplearnjs-clients/float16/tfjs-core/tsconfig.json","includedInParent":true,"mtime":1532457398879},{"name":"/usr/local/google/home/nsthorat/deeplearnjs-clients/float16/tfjs-core/test/package.json","includedInParent":true,"mtime":1530637734514}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ResizeNearestNeigborBackpropProgram = function () {\n    function ResizeNearestNeigborBackpropProgram(dy, x, alignCorners) {\n        this.variableNames = ['dy'];\n        this.outputShape = [];\n        this.outputShape = x.shape;\n        var _a = x.shape,\n            xHeight = _a[1],\n            xWidth = _a[2];\n        var _b = dy.shape,\n            yHeight = _b[1],\n            yWidth = _b[2];\n        var effectiveXSize = [alignCorners && yHeight > 1 ? xHeight - 1 : xHeight, alignCorners && yWidth > 1 ? xWidth - 1 : xWidth];\n        var effectiveYSize = [alignCorners && yHeight > 1 ? yHeight - 1 : yHeight, alignCorners && yWidth > 1 ? yWidth - 1 : yWidth];\n        var heightScale = effectiveXSize[0] / effectiveYSize[0];\n        var widthScale = effectiveXSize[1] / effectiveYSize[1];\n        var invHeightScale = 1 / heightScale;\n        var invWidthScale = 1 / widthScale;\n        var winHeight = Math.ceil(invHeightScale) * 2 + 2;\n        var winWidth = Math.ceil(invWidthScale) * 2 + 2;\n        this.userCode = \"\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int b = coords[0];\\n        int d = coords[3];\\n        int r = coords[1];\\n        int c = coords[2];\\n\\n        float accumulator = 0.0;\\n\\n        const float heightScale = float(\" + heightScale + \");\\n        const float widthScale = float(\" + widthScale + \");\\n\\n        const float invHeightScale = float(\" + invHeightScale + \");\\n        const float invWidthScale = float(\" + invWidthScale + \");\\n\\n        const int winHeight = int(\" + winHeight + \");\\n        const int winWidth = int(\" + winWidth + \");\\n\\n        // Compute bounds for where in dy we will look\\n        float startRLerp = floor(float(r) * invHeightScale);\\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\\n\\n        float startCLerp = floor(float(c) * invWidthScale);\\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\\n\\n        // Loop over dy\\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\\n          int dyR = dyROffset + startDyR;\\n\\n          // Guard against the window exceeding the bounds of dy\\n          if (dyR < 0 || dyR >= \" + yHeight + \") {\\n            continue;\\n          }\\n\\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\\n            int dyC = dyCOffset + startDyC;\\n\\n            // Guard against the window exceeding the bounds of dy\\n            if (dyC < 0 || dyC >= \" + yWidth + \") {\\n              continue;\\n            }\\n\\n            float sourceFracRow =\\n              float(\" + effectiveXSize[0] + \") *\\n                (float(dyR) / float(\" + effectiveYSize[0] + \"));\\n\\n            float sourceFracCol =\\n                float(\" + effectiveXSize[1] + \") *\\n                  (float(dyC) / float(\" + effectiveYSize[1] + \"));\\n\\n            int sourceNearestRow = int(min(\\n                float(int(\" + xHeight + \") - 1),\\n                \" + alignCorners + \" ? float(round(sourceFracRow)) :\\n                                  float(floor(sourceFracRow))));\\n\\n            int sourceNearestCol = int(min(\\n                float(int(\" + xWidth + \") - 1),\\n                \" + alignCorners + \" ? float(round(sourceFracCol)) :\\n                                  float(floor(sourceFracCol))));\\n\\n            if (r == sourceNearestRow && c == sourceNearestCol) {\\n              accumulator += getDy(b, dyR, dyC, d);\\n            }\\n          }\\n        }\\n        // End loop over dy\\n\\n        setOutput(accumulator);\\n      }\\n    \";\n    }\n    return ResizeNearestNeigborBackpropProgram;\n}();\nexports.ResizeNearestNeigborBackpropProgram = ResizeNearestNeigborBackpropProgram;","map":{"mappings":[{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":4,"column":0}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":4,"column":4}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":4,"column":42}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":4,"column":54}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":26,"column":2},"generated":{"line":5,"column":0}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":26,"column":2},"generated":{"line":5,"column":13}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":26,"column":2},"generated":{"line":5,"column":48}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":26,"column":14},"generated":{"line":5,"column":49}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":26,"column":2},"generated":{"line":5,"column":51}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":26,"column":28},"generated":{"line":5,"column":53}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":26,"column":2},"generated":{"line":5,"column":54}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":26,"column":41},"generated":{"line":5,"column":56}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":26,"column":2},"generated":{"line":5,"column":68}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":26,"column":62},"generated":{"line":5,"column":70}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":22,"column":2},"generated":{"line":6,"column":0}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":22,"column":2},"generated":{"line":6,"column":13}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":22,"column":2},"generated":{"line":6,"column":26}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":22,"column":18},"generated":{"line":6,"column":29}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":22,"column":19},"generated":{"line":6,"column":30}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":22,"column":18},"generated":{"line":6,"column":34}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":22,"column":2},"generated":{"line":6,"column":35}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":7,"column":0}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":7,"column":13}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":7,"column":24}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":23,"column":26},"generated":{"line":7,"column":27}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":7,"column":29}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":27,"column":4},"generated":{"line":8,"column":0}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":27,"column":9},"generated":{"line":8,"column":13}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":27,"column":4},"generated":{"line":8,"column":24}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":27,"column":23},"generated":{"line":8,"column":27}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":27,"column":25},"generated":{"line":8,"column":29}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":27,"column":4},"generated":{"line":8,"column":34}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":28,"column":10},"generated":{"line":9,"column":0}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":28,"column":10},"generated":{"line":9,"column":12}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":28,"column":10},"generated":{"line":9,"column":17}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":28,"column":10},"generated":{"line":9,"column":19}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":28,"column":10},"generated":{"line":9,"column":24}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":28,"column":10},"generated":{"line":10,"column":0}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":10,"column":12}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":10,"column":22}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":10,"column":25}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":10,"column":26}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":28,"column":10},"generated":{"line":10,"column":27}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":28,"column":10},"generated":{"line":11,"column":0}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":28,"column":22},"generated":{"line":11,"column":12}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":28,"column":22},"generated":{"line":11,"column":21}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":28,"column":22},"generated":{"line":11,"column":24}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":28,"column":22},"generated":{"line":11,"column":25}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":28,"column":10},"generated":{"line":11,"column":26}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":29,"column":10},"generated":{"line":12,"column":0}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":29,"column":10},"generated":{"line":12,"column":12}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":29,"column":10},"generated":{"line":12,"column":17}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":29,"column":10},"generated":{"line":12,"column":20}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":29,"column":10},"generated":{"line":12,"column":25}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":29,"column":10},"generated":{"line":13,"column":0}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":29,"column":13},"generated":{"line":13,"column":12}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":29,"column":13},"generated":{"line":13,"column":22}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":29,"column":13},"generated":{"line":13,"column":25}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":29,"column":13},"generated":{"line":13,"column":26}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":29,"column":10},"generated":{"line":13,"column":27}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":29,"column":10},"generated":{"line":14,"column":0}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":29,"column":22},"generated":{"line":14,"column":12}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":29,"column":22},"generated":{"line":14,"column":21}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":29,"column":22},"generated":{"line":14,"column":24}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":29,"column":22},"generated":{"line":14,"column":25}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":29,"column":10},"generated":{"line":14,"column":26}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":35,"column":4},"generated":{"line":15,"column":0}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":35,"column":10},"generated":{"line":15,"column":12}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":35,"column":45},"generated":{"line":15,"column":29}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":36,"column":7},"generated":{"line":15,"column":30}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":36,"column":23},"generated":{"line":15,"column":46}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":36,"column":33},"generated":{"line":15,"column":56}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":36,"column":6},"generated":{"line":15,"column":57}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":36,"column":38},"generated":{"line":15,"column":60}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":36,"column":48},"generated":{"line":15,"column":70}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":36,"column":6},"generated":{"line":15,"column":71}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":36,"column":52},"generated":{"line":15,"column":74}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":35,"column":45},"generated":{"line":15,"column":81}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":37,"column":7},"generated":{"line":15,"column":83}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":37,"column":23},"generated":{"line":15,"column":99}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":37,"column":32},"generated":{"line":15,"column":108}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":37,"column":6},"generated":{"line":15,"column":109}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":37,"column":37},"generated":{"line":15,"column":112}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":37,"column":46},"generated":{"line":15,"column":121}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":37,"column":6},"generated":{"line":15,"column":122}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":37,"column":50},"generated":{"line":15,"column":125}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":35,"column":45},"generated":{"line":15,"column":131}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":35,"column":4},"generated":{"line":15,"column":132}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":40,"column":4},"generated":{"line":16,"column":0}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":40,"column":10},"generated":{"line":16,"column":12}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":40,"column":45},"generated":{"line":16,"column":29}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":41,"column":7},"generated":{"line":16,"column":30}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":41,"column":23},"generated":{"line":16,"column":46}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":41,"column":33},"generated":{"line":16,"column":56}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":41,"column":6},"generated":{"line":16,"column":57}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":41,"column":38},"generated":{"line":16,"column":60}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":41,"column":48},"generated":{"line":16,"column":70}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":41,"column":6},"generated":{"line":16,"column":71}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":41,"column":52},"generated":{"line":16,"column":74}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":40,"column":45},"generated":{"line":16,"column":81}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":42,"column":7},"generated":{"line":16,"column":83}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":42,"column":23},"generated":{"line":16,"column":99}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":42,"column":32},"generated":{"line":16,"column":108}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":42,"column":6},"generated":{"line":16,"column":109}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":42,"column":37},"generated":{"line":16,"column":112}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":42,"column":46},"generated":{"line":16,"column":121}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":42,"column":6},"generated":{"line":16,"column":122}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":42,"column":50},"generated":{"line":16,"column":125}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":40,"column":45},"generated":{"line":16,"column":131}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":40,"column":4},"generated":{"line":16,"column":132}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":45,"column":4},"generated":{"line":17,"column":0}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":45,"column":10},"generated":{"line":17,"column":12}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":45,"column":24},"generated":{"line":17,"column":26}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":45,"column":39},"generated":{"line":17,"column":41}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":45,"column":24},"generated":{"line":17,"column":42}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":45,"column":44},"generated":{"line":17,"column":46}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":45,"column":59},"generated":{"line":17,"column":61}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":45,"column":44},"generated":{"line":17,"column":62}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":45,"column":4},"generated":{"line":17,"column":63}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":46,"column":4},"generated":{"line":18,"column":0}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":46,"column":10},"generated":{"line":18,"column":12}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":46,"column":23},"generated":{"line":18,"column":25}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":46,"column":38},"generated":{"line":18,"column":40}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":46,"column":23},"generated":{"line":18,"column":41}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":46,"column":43},"generated":{"line":18,"column":45}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":46,"column":58},"generated":{"line":18,"column":60}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":46,"column":43},"generated":{"line":18,"column":61}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":46,"column":4},"generated":{"line":18,"column":62}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":48,"column":4},"generated":{"line":19,"column":0}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":48,"column":10},"generated":{"line":19,"column":12}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":48,"column":27},"generated":{"line":19,"column":29}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":48,"column":31},"generated":{"line":19,"column":33}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":48,"column":4},"generated":{"line":19,"column":44}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":49,"column":4},"generated":{"line":20,"column":0}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":49,"column":10},"generated":{"line":20,"column":12}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":49,"column":26},"generated":{"line":20,"column":28}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":49,"column":30},"generated":{"line":20,"column":32}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":49,"column":4},"generated":{"line":20,"column":42}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":53,"column":4},"generated":{"line":21,"column":0}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":53,"column":10},"generated":{"line":21,"column":12}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":53,"column":23},"generated":{"line":21,"column":24}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":53,"column":28},"generated":{"line":21,"column":29}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":53,"column":23},"generated":{"line":21,"column":33}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":53,"column":33},"generated":{"line":21,"column":34}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":53,"column":23},"generated":{"line":21,"column":48}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":53,"column":51},"generated":{"line":21,"column":52}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":53,"column":22},"generated":{"line":21,"column":53}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":53,"column":56},"generated":{"line":21,"column":56}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":53,"column":4},"generated":{"line":21,"column":57}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":54,"column":4},"generated":{"line":22,"column":0}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":54,"column":10},"generated":{"line":22,"column":12}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":54,"column":22},"generated":{"line":22,"column":23}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":54,"column":27},"generated":{"line":22,"column":28}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":54,"column":22},"generated":{"line":22,"column":32}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":54,"column":32},"generated":{"line":22,"column":33}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":54,"column":22},"generated":{"line":22,"column":46}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":54,"column":49},"generated":{"line":22,"column":50}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":54,"column":21},"generated":{"line":22,"column":51}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":54,"column":54},"generated":{"line":22,"column":54}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":54,"column":4},"generated":{"line":22,"column":55}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":56,"column":4},"generated":{"line":23,"column":0}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":56,"column":9},"generated":{"line":23,"column":13}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":56,"column":4},"generated":{"line":23,"column":21}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":23,"column":24}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":66,"column":42},"generated":{"line":23,"column":285}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":23,"column":296}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":66,"column":53},"generated":{"line":23,"column":299}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":23,"column":344}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":67,"column":41},"generated":{"line":23,"column":347}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":23,"column":357}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":67,"column":51},"generated":{"line":23,"column":360}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":23,"column":411}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":69,"column":45},"generated":{"line":23,"column":414}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":23,"column":428}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":69,"column":59},"generated":{"line":23,"column":431}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":23,"column":479}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":70,"column":44},"generated":{"line":23,"column":482}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":23,"column":495}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":70,"column":57},"generated":{"line":23,"column":498}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":23,"column":540}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":72,"column":36},"generated":{"line":23,"column":543}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":23,"column":552}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":72,"column":45},"generated":{"line":23,"column":555}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":23,"column":594}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":73,"column":35},"generated":{"line":23,"column":597}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":23,"column":605}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":73,"column":43},"generated":{"line":23,"column":608}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":23,"column":1179}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":87,"column":34},"generated":{"line":23,"column":1182}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":23,"column":1189}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":87,"column":41},"generated":{"line":23,"column":1192}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":23,"column":1458}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":95,"column":36},"generated":{"line":23,"column":1461}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":23,"column":1467}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":95,"column":42},"generated":{"line":23,"column":1470}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":23,"column":1574}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":100,"column":22},"generated":{"line":23,"column":1577}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":100,"column":37},"generated":{"line":23,"column":1592}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":100,"column":22},"generated":{"line":23,"column":1593}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":23,"column":1594}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":100,"column":39},"generated":{"line":23,"column":1597}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":23,"column":1640}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":101,"column":38},"generated":{"line":23,"column":1643}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":101,"column":53},"generated":{"line":23,"column":1658}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":101,"column":38},"generated":{"line":23,"column":1659}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":23,"column":1660}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":101,"column":55},"generated":{"line":23,"column":1663}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":23,"column":1729}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":104,"column":24},"generated":{"line":23,"column":1732}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":104,"column":39},"generated":{"line":23,"column":1747}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":104,"column":24},"generated":{"line":23,"column":1748}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":23,"column":1749}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":104,"column":41},"generated":{"line":23,"column":1752}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":23,"column":1797}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":105,"column":40},"generated":{"line":23,"column":1800}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":105,"column":55},"generated":{"line":23,"column":1815}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":105,"column":40},"generated":{"line":23,"column":1816}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":23,"column":1817}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":105,"column":57},"generated":{"line":23,"column":1820}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":23,"column":1900}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":108,"column":28},"generated":{"line":23,"column":1903}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":23,"column":1910}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":108,"column":35},"generated":{"line":23,"column":1913}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":23,"column":1940}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":109,"column":18},"generated":{"line":23,"column":1943}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":23,"column":1955}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":109,"column":30},"generated":{"line":23,"column":1958}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":23,"column":2133}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":113,"column":28},"generated":{"line":23,"column":2136}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":23,"column":2142}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":113,"column":34},"generated":{"line":23,"column":2145}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":23,"column":2172}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":114,"column":18},"generated":{"line":23,"column":2175}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":23,"column":2187}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":114,"column":30},"generated":{"line":23,"column":2190}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":56,"column":4},"generated":{"line":23,"column":2530}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":127,"column":3},"generated":{"line":24,"column":0}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":128,"column":0},"generated":{"line":25,"column":0}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":128,"column":0},"generated":{"line":25,"column":11}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":128,"column":0},"generated":{"line":25,"column":46}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":26,"column":0}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":26,"column":1}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":26,"column":3}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":21,"column":13},"generated":{"line":27,"column":0}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":21,"column":13},"generated":{"line":27,"column":8}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":21,"column":13},"generated":{"line":27,"column":43}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":21,"column":13},"generated":{"line":27,"column":46}},{"source":"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts","name":null,"original":{"line":21,"column":13},"generated":{"line":27,"column":81}}],"sources":{"../src/kernels/webgl/resize_nearest_neighbor_backprop_gpu.ts":"/**\n * @license\n * Copyright 2018 Google LLC All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {Tensor4D} from '../../tensor';\nimport {GPGPUProgram} from './gpgpu_math';\n\nexport class ResizeNearestNeigborBackpropProgram implements GPGPUProgram {\n  variableNames = ['dy'];\n  outputShape: number[] = [];\n  userCode: string;\n\n  constructor(dy: Tensor4D, x: Tensor4D, alignCorners: boolean) {\n    this.outputShape = x.shape;\n    const [, xHeight, xWidth, ] = x.shape;\n    const [, yHeight, yWidth] = dy.shape;\n\n    // In the backwards pass, we want to find the pixels that were generated for\n    // each pixel in the input image the forward pass and add the corresponding\n    // coefficient from dy to the gradient (with some interpolation).\n\n    const effectiveXSize: [number, number] = [\n      (alignCorners && yHeight > 1) ? xHeight - 1 : xHeight,\n      (alignCorners && yWidth > 1) ? xWidth - 1 : xWidth\n    ];\n\n    const effectiveYSize: [number, number] = [\n      (alignCorners && yHeight > 1) ? yHeight - 1 : yHeight,\n      (alignCorners && yWidth > 1) ? yWidth - 1 : yWidth\n    ];\n\n    const heightScale = effectiveXSize[0] / effectiveYSize[0];\n    const widthScale = effectiveXSize[1] / effectiveYSize[1];\n\n    const invHeightScale = 1 / heightScale;\n    const invWidthScale = 1 / widthScale;\n\n    // This defines the size of the window of values around a particular\n    // index in dy that we want to search for contributions to dx.\n    const winHeight = (Math.ceil(invHeightScale) * 2) + 2;\n    const winWidth = (Math.ceil(invWidthScale) * 2) + 2;\n\n    this.userCode = `\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${heightScale});\n        const float widthScale = float(${widthScale});\n\n        const float invHeightScale = float(${invHeightScale});\n        const float invWidthScale = float(${invWidthScale});\n\n        const int winHeight = int(${winHeight});\n        const int winWidth = int(${winWidth});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${yHeight}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${yWidth}) {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(${effectiveXSize[0]}) *\n                (float(dyR) / float(${effectiveYSize[0]}));\n\n            float sourceFracCol =\n                float(${effectiveXSize[1]}) *\n                  (float(dyC) / float(${effectiveYSize[1]}));\n\n            int sourceNearestRow = int(min(\n                float(int(${xHeight}) - 1),\n                ${alignCorners} ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(${xWidth}) - 1),\n                ${alignCorners} ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `;\n  }\n}\n"},"lineCount":null}},"hash":"f430e221b3a04388f3fac823b7da54d6","cacheData":{"env":{}}}